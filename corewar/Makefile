##
## Makefile for corewar in /home/fourri_l/Projects/CPE_2014_corewar/corewar
## 
## Made by Laurent Fourrier
## Login   <fourri_l@epitech.net>
## 
## Started on  Sun Apr 13 17:41:49 2014 Laurent Fourrier
## Last update Sun Apr 13 17:42:04 2014 Laurent Fourrier
##

## Makefile automatically generated by TPrCfg

CC	=	cc

RM	=	rm -rf

SRCDIR	=	src

LIBDIR	=	lib

INCDIR	=	include

CFLAGS	=	-Wall -pedantic \
		-iquote$(INCDIR) \
		-I$(LIBDIR)/tlist/include \
		-I$(LIBDIR)/tutils/include \
		-I$(LIBDIR)/tio/include \
		-I$(LIBDIR)/tsys/include \

LDFLAGS	= \
		-ltlist -L$(LIBDIR)/tlist/ \
		-ltutils -L$(LIBDIR)/tutils/ \
		-ltio -L$(LIBDIR)/tio/ \
		-ltsys -L$(LIBDIR)/tsys/ \

SRC	=	$(SRCDIR)/champion/read_champion_header.c \
		$(SRCDIR)/champion/init_process.c \
		$(SRCDIR)/champion/init_champion.c \
		$(SRCDIR)/op.c \
		$(SRCDIR)/arena/update_game_state.c \
		$(SRCDIR)/arena/print_winner.c \
		$(SRCDIR)/arena/new_arena.c \
		$(SRCDIR)/arena/load_champion.c \
		$(SRCDIR)/arena/kill_champion.c \
		$(SRCDIR)/arena/write_memory_data.c \
		$(SRCDIR)/arena/load_all_champions.c \
		$(SRCDIR)/arena/get_champion_by_id.c \
		$(SRCDIR)/arena/destroy_arena.c \
		$(SRCDIR)/arena/get_register_index.c \
		$(SRCDIR)/arena/get_memory_data.c \
		$(SRCDIR)/arena/write_to_indirect.c \
		$(SRCDIR)/arena/get_indirect_value.c \
		$(SRCDIR)/arena/loop.c \
		$(SRCDIR)/asm_func/fork.c \
		$(SRCDIR)/asm_func/zjmp.c \
		$(SRCDIR)/asm_func/call_asm_func.c \
		$(SRCDIR)/asm_func/lldi.c \
		$(SRCDIR)/asm_func/live.c \
		$(SRCDIR)/asm_func/and.c \
		$(SRCDIR)/asm_func/sti.c \
		$(SRCDIR)/asm_func/lld.c \
		$(SRCDIR)/asm_func/ldi.c \
		$(SRCDIR)/asm_func/add.c \
		$(SRCDIR)/asm_func/ld.c \
		$(SRCDIR)/asm_func/aff.c \
		$(SRCDIR)/asm_func/get_asm_func.c \
		$(SRCDIR)/asm_func/lfork.c \
		$(SRCDIR)/asm_func/st.c \
		$(SRCDIR)/asm_func/xor.c \
		$(SRCDIR)/asm_func/sub.c \
		$(SRCDIR)/asm_func/or.c \
		$(SRCDIR)/main.c \
		$(SRCDIR)/command/cmd_get_size.c \
		$(SRCDIR)/command/cmd_parse_woparam.c \
		$(SRCDIR)/command/cmd_has_parambyte.c \
		$(SRCDIR)/command/cmd_next.c \
		$(SRCDIR)/command/cmd_parse_wparam.c \
		$(SRCDIR)/command/cmd_prepare_arg.c \
		$(SRCDIR)/utils/is_big_endian.c \
		$(SRCDIR)/utils/byte_toshort_be.c \
		$(SRCDIR)/utils/read_data_be.c \
		$(SRCDIR)/utils/byte_toint_be.c \
		$(SRCDIR)/utils/get_arg_type.c \
		$(SRCDIR)/utils/xmalloc.c \
		$(SRCDIR)/utils/get_op_info.c \
		$(SRCDIR)/utils/invert_endianness.c \

OBJ	=	$(SRC:.c=.o)

NAME	=	corewar

all: libs $(NAME)

$(NAME): $(OBJ)
	$(CC) -o $(NAME) $(OBJ) $(LDFLAGS)

libs:
	cd $(LIBDIR)/tlist && make
	cd $(LIBDIR)/tutils && make
	cd $(LIBDIR)/tio && make
	cd $(LIBDIR)/tsys && make

clean:
	$(RM) $(OBJ)
	cd $(LIBDIR)/tlist && make clean
	cd $(LIBDIR)/tutils && make clean
	cd $(LIBDIR)/tio && make clean
	cd $(LIBDIR)/tsys && make clean

fclean: clean
	$(RM) $(NAME)
	cd $(LIBDIR)/tlist && make fclean
	cd $(LIBDIR)/tutils && make fclean
	cd $(LIBDIR)/tio && make fclean
	cd $(LIBDIR)/tsys && make fclean

re: fclean all

.PHONY: all libs clean fclean re
