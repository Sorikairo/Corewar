##
## Makefile for asm in /home/fourri_l/Projects/CPE_2014_corewar/asm
## 
## Made by Laurent Fourrier
## Login   <fourri_l@epitech.net>
## 
## Started on  Sun Apr 13 17:41:20 2014 Laurent Fourrier
## Last update Sun Apr 13 17:41:32 2014 Laurent Fourrier
##

## Makefile automatically generated by TPrCfg

CC	=	cc

RM	=	rm -rf

SRCDIR	=	src

LIBDIR	=	lib

INCDIR	=	include

CFLAGS	=	-Wall -pedantic \
		-iquote$(INCDIR) \
		-I$(LIBDIR)/tio/include \
		-I$(LIBDIR)/tutils/include \
		-I$(LIBDIR)/tsys/include \

LDFLAGS	= \
		-ltio -L$(LIBDIR)/tio/ \
		-ltutils -L$(LIBDIR)/tutils/ \
		-ltsys -L$(LIBDIR)/tsys/ \

SRC	=	$(SRCDIR)/reader/free_cor_file.c \
		$(SRCDIR)/reader/free_cor_line.c \
		$(SRCDIR)/reader/read_cor_instruct.c \
		$(SRCDIR)/reader/read_cor_file.c \
		$(SRCDIR)/reader/new_cor_line.c \
		$(SRCDIR)/reader/read_cor_line.c \
		$(SRCDIR)/reader/new_cor_file.c \
		$(SRCDIR)/op.c \
		$(SRCDIR)/asm/parse_cor_file.c \
		$(SRCDIR)/asm/assemble_fcor.c \
		$(SRCDIR)/asm/assemble_cor.c \
		$(SRCDIR)/main.c \
		$(SRCDIR)/writer/writer_cor_line.c \
		$(SRCDIR)/writer/writer_cor_header.c \
		$(SRCDIR)/writer/writer_cor_file.c \
		$(SRCDIR)/writer/writer_cor_parambyte.c \
		$(SRCDIR)/writer/writer_cor_register.c \
		$(SRCDIR)/writer/writer_cor_arg.c \
		$(SRCDIR)/writer/writer_cor_indirect.c \
		$(SRCDIR)/writer/writer_cor_direct.c \
		$(SRCDIR)/checker/generate_label_list.c \
		$(SRCDIR)/checker/line_has_parambyte.c \
		$(SRCDIR)/checker/is_valid_mnemonic.c \
		$(SRCDIR)/checker/labelname_is_valid.c \
		$(SRCDIR)/checker/get_op.c \
		$(SRCDIR)/checker/label_list_append.c \
		$(SRCDIR)/checker/check_cor_line.c \
		$(SRCDIR)/checker/destroy_list.c \
		$(SRCDIR)/checker/transform_parameters.c \
		$(SRCDIR)/checker/to_cor_arg.c \
		$(SRCDIR)/checker/is_valid_args_nbr.c \
		$(SRCDIR)/checker/label_exists.c \
		$(SRCDIR)/checker/is_valid_args.c \
		$(SRCDIR)/checker/check_cor_file.c \
		$(SRCDIR)/checker/check_cor_header.c \
		$(SRCDIR)/utils/xmalloc.c \
		$(SRCDIR)/utils/tobyte.c \
		$(SRCDIR)/utils/change_filext.c \
		$(SRCDIR)/utils/write_data_be.c \

OBJ	=	$(SRC:.c=.o)

NAME	=	asm

all: libs $(NAME)

$(NAME): $(OBJ)
	$(CC) -o $(NAME) $(OBJ) $(LDFLAGS)

libs:
	cd $(LIBDIR)/tio && make
	cd $(LIBDIR)/tutils && make
	cd $(LIBDIR)/tsys && make

clean:
	$(RM) $(OBJ)
	cd $(LIBDIR)/tio && make clean
	cd $(LIBDIR)/tutils && make clean
	cd $(LIBDIR)/tsys && make clean

fclean: clean
	$(RM) $(NAME)
	cd $(LIBDIR)/tio && make fclean
	cd $(LIBDIR)/tutils && make fclean
	cd $(LIBDIR)/tsys && make fclean

re: fclean all

.PHONY: all libs clean fclean re
